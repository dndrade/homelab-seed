---

#        Runtime | Pangolin - Crowdsec
# ==========================================

# ------------------------------------------
# Runtime | Compose
# ------------------------------------------
# - Renders docker-compose.yml
# - Renders CrowdSec acquisition configs
# - Writes .env file
# - Starts / updates containers
- import_tasks: runtime/deploy.yml


# ------------------------------------------
# Runtime | CrowdSec bootstrap & readiness
# ------------------------------------------
# - Waits for CrowdSec LAPI
# - Handles first-run bouncer creation
# - Performs console enrollment (optional)
# - Stops play safely if bootstrap is incomplete
- import_tasks: runtime/crowdsec.yml


# ------------------------------------------
# Runtime | Traefik enforcement wiring
# ------------------------------------------
# - Asserts bouncer key exists
# - Renders Traefik dynamic config
# - Restarts Traefik if needed
- import_tasks: runtime/traefik.yml
